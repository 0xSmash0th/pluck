<?php/*  * This file is part of pluck, the easy content management system * Copyright (c) somp (www.somp.nl) * http://www.pluck-cms.org * Pluck is free software: you can redistribute it and/or modify * it under the terms of the GNU General Public License as published by * the Free Software Foundation, either version 3 of the License, or * (at your option) any later version.  * See docs/COPYING for the complete license.*///Make sure the file isn't accessed directlyif((!ereg('index.php', $_SERVER['SCRIPT_FILENAME'])) && (!ereg('admin.php', $_SERVER['SCRIPT_FILENAME'])) && (!ereg('install.php', $_SERVER['SCRIPT_FILENAME'])) && (!ereg('login.php', $_SERVER['SCRIPT_FILENAME']))){    //Give out an "access denied" error    echo 'access denied';    //Block all other code    exit();}//Function: read the available languages.//-------------------function read_lang_files($not_this_file) {	$files = read_files('data/inc/lang');	if ($files) {		natcasesort($files);		foreach ($files as $file) {			if ($file != $not_this_file) {				include('data/inc/lang/' . $file . '');				?>				<option value='<?php echo $file; ?>'><?php echo $lang; ?></option>				<?php			}		}	}}//Function: check if files are writable.//-------------------function check_writable($file) {	if (is_writable($file)) {	?>		<span>			<img src="data/image/update-no.png" width="15" height="15" alt="<?php echo $lang_install8; ?>" />		</span>		<span>&nbsp;/<?php echo $file; ?></span>		<br />	<?php	}	else {	?>		<span>			<img src="data/image/error.png" width="15" height="15" alt="<?php echo $lang_install9; ?>" />		</span>		<span>&nbsp;/<?php echo $file; ?></span>		<br />	<?php	}}/*SAVE FUNCTIONS*///Function: save the login password.//-------------------function save_password($password) {	//MD5-hash password	$password = md5($password);	//Save password	$data = 'data/settings/pass.php';	$file = fopen($data, 'w');	fputs($file, '<?php $ww = "'.$password.'"; ?>');	fclose($file);	chmod($data3,0777);}//Function: save the options.//-------------------function save_options($title, $email, $xhtml) {	$title = stripslashes($cont);	$data = 'data/settings/options.php';	$file = fopen($data, 'w');	fputs($file, '<?php'."\n"	.'$sitetitle = "'.$title.'";'."\n"	.'$email = "'.$email.'";'."\n"	.'$xhtmlruleset = "'.$xhtml.'";'."\n"	.'?>');	fclose($file);	chmod($data2,0777);}//Function: save the prefered language.//-------------------function save_language($lang) {	$data = 'data/settings/langpref.php';	$file = fopen($data, 'w');	fputs($file, '<?php $langpref = "'.$lang.'"; ?>');	fclose($file);}?>